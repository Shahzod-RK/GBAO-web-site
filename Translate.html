<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 10px;
    background-image: url(Traback.png);
    display: flex;
    flex-direction: column;
    align-items: center;
    background-repeat: no-repeat;
    background-size: cover;
}

.container {
    width: 100%;
    max-width: 480px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* –°–µ–ª–µ–∫—Ç–æ—Ä—ã —è–∑—ã–∫–∞ */
.language-selectors {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.language-selectors select {
    flex: 1;
    padding: 8px;
    font-size: 14px;
    border-radius: 100px;
    border: 1px solid #ccc;
}

/* –ü–æ–ª—è –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ */
textarea {
    width: 95%;
    font-size: 14px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    resize: none;
    min-height: 120px;
}

/* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ */
button {
    width: 100%;
    padding: 12px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    background-color: #4285F4;
    color: #fff;
    cursor: pointer;
    margin-top: 5px;
}

button:hover {
    background-color: #3367D6;
}

/* –ë–ª–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞ */
.block {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

/* –ü–µ—Ä–µ–≤–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç */
.output {
    background: #fff;
    overflow-y: auto;
    white-space: pre-wrap;
}

/* –ò–∫–æ–Ω–∫–∞ –æ–±–º–µ–Ω–∞ —è–∑—ã–∫–∞–º–∏ */
.swap-button {
    align-self: center;
    margin: 5px 0;
    background: #f1f3f4;
    border: none;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
}

.swap-button:hover {
    background: #e0e0e0;
}

/* –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media(max-width: 360px){
    textarea { font-size: 12px; padding: 8px; min-height: 100px; }
    select { font-size: 12px; padding: 6px; }
    button { font-size: 14px; padding: 10px; }
}
</style>
</head>
<body>

<div class="container">
  <div class="block">
    <div class="language-selectors">
      <select id="sourceLang">
        <option value="russian">–†—É—Å—Å–∫–∏–π</option>
        <option value="dialect1">–®—É–≥–∞–Ω—Å–∫–∏–π –¥–∏–∞–ª–µ–∫—Ç</option>
        <option value="dialect2">upcoming soon</option>
      </select>
      <select id="targetLang">
        <option value="russian">–†—É—Å—Å–∫–∏–π</option>
        <option value="dialect1">–®—É–≥–∞–Ω—Å–∫–∏–π –¥–∏–∞–ª–µ–∫—Ç</option>
        <option value="dialect2">upcoming soon</option>
      </select>
    </div>
    <textarea id="inputText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
  </div>

  <button onclick="translateText()">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏</button>

  <div class="block">
    <textarea id="outputText" readonly class="output" placeholder="–ü–µ—Ä–µ–≤–æ–¥ –±—É–¥–µ—Ç –∑–¥–µ—Å—å..."></textarea>
  </div>
</div>
<script>
const dictionary = {

    "hello" : { "russian": "–ø—Ä–∏–≤–µ—Ç", "dialect1": "Salum", "dialect2": ""},
    "How_are_you" : { "russian": "–∫–∞–∫ –¥–µ–ª–∞", "dialect1": "Carang", "dialect2": ""},
    "What_are_you_doing" : { "russian": "—á—Ç–æ –¥–µ–ª–∞–µ—à—å", "dialect1": "chireta", "dialect2": ""},


    "i": { "russian": "—è", "dialect1": "oz", "dialect2": "" },
    "you_sg": { "russian": "—Ç—ã", "dialect1": "to", "dialect2": "" },
    "he": { "russian": "–æ–Ω", "dialect1": "–πo", "dialect2": "" },
    "she": { "russian": "–æ–Ω–∞", "dialect1": "ya", "dialect2": "" },
    "we": { "russian": "–º—ã", "dialect1": "mash", "dialect2": "" },
    "you_pl": { "russian": "–≤—ã", "dialect1": "tama", "dialect2": "" },
    "they": { "russian": "–æ–Ω–∏", "dialect1": "wath", "dialect2": "" },

    "this_is": { "russian": "—ç—Ç–æ", "dialect1": "—çd", "dialect2": "" },
    "that": { "russian": "—Ç–æ—Ç", "dialect1": "yo", "dialect2": "" },
    "this": { "russian": "—ç—Ç–æ—Ç", "dialect1": "ed", "dialect2": "" },

    "such": { "russian": "—Ç–∞–∫–æ–π", "dialect1": "desga", "dialect2": "" },
    "which": { "russian": "–∫–∞–∫–æ–π", "dialect1": "—Üarangen", "dialect2": "" },
    "who": { "russian": "–∫—Ç–æ", "dialect1": "cha–π", "dialect2": "" },
    "what": { "russian": "—á—Ç–æ", "dialect1": "chiz", "dialect2": "" },
    "where": { "russian": "–≥–¥–µ", "dialect1": "ka–π", "dialect2": "" },
    "when": { "russian": "–∫–æ–≥–¥–∞", "dialect1": "—Üawaxt", "dialect2": "" },
    "why": { "russian": "–ø–æ—á–µ–º—É", "dialect1": "chiz“∑at", "dialect2": "" },
    "why_for": { "russian": "–∑–∞—á–µ–º", "dialect1": "chiz“∑at", "dialect2": "" },
    "how": { "russian": "–∫–∞–∫", "dialect1": "—Üarang", "dialect2": "" },

    "all": { "russian": "–≤–µ—Å—å", "dialect1": "fok", "dialect2": "" },
    "each": { "russian": "–∫–∞–∂–¥—ã–π", "dialect1": "archa–πath", "dialect2": "" },
    "other": { "russian": "–¥—Ä—É–≥–æ–π", "dialect1": "ega", "dialect2": "" },
    "same_other": { "russian": "–∏–Ω–æ–π", "dialect1": "ega", "dialect2": "" },

    "most": { "russian": "—Å–∞–º—ã–π", "dialect1": "sar", "dialect2": "" },
    "new": { "russian": "–Ω–æ–≤—ã–π", "dialect1": "naw", "dialect2": "" },
    "old": { "russian": "—Å—Ç–∞—Ä—ã–π", "dialect1": "kina", "dialect2": "" },
    "big": { "russian": "–±–æ–ª—å—à–æ–π", "dialect1": "–≥-ola", "dialect2": "" },
    "small": { "russian": "–º–∞–ª–µ–Ω—å–∫–∏–π", "dialect1": "dzolek", "dialect2": "" },
    "good": { "russian": "—Ö–æ—Ä–æ—à–∏–π", "dialect1": "zyr", "dialect2": "" },
    "bad": { "russian": "–ø–ª–æ—Ö–æ–π", "dialect1": "bedarak", "dialect2": "" },

    "first": { "russian": "–ø–µ—Ä–≤—ã–π", "dialect1": "yakom", "dialect2": "" },
    "last": { "russian": "–ø–æ—Å–ª–µ–¥–Ω–∏–π", "dialect1": "oxiry-nom", "dialect2": "" },
    "early": { "russian": "—Ä–∞–Ω–Ω–∏–π", "dialect1": "peroke", "dialect2": "" },
    "late": { "russian": "–ø–æ–∑–¥–Ω–∏–π", "dialect1": "der", "dialect2": "" },

    "many": { "russian": "–º–Ω–æ–≥–æ", "dialect1": "lap", "dialect2": "" },
    "few": { "russian": "–º–∞–ª–æ", "dialect1": "dys", "dialect2": "" },
    "several": { "russian": "–Ω–µ—Å–∫–æ–ª—å–∫–æ", "dialect1": "dysath", "dialect2": "" },

    "one": { "russian": "–æ–¥–∏–Ω", "dialect1": "iw", "dialect2": "" },
    "two": { "russian": "–¥–≤–∞", "dialect1": "tho–πy-n", "dialect2": "" },
    "three": { "russian": "—Ç—Ä–∏", "dialect1": "ara–π", "dialect2": "" },
    "four": { "russian": "—á–µ—Ç—ã—Ä–µ", "dialect1": "—Üavor", "dialect2": "" },
    "five": { "russian": "–ø—è—Ç—å", "dialect1": "pinz", "dialect2": "" },
    "six": { "russian": "—à–µ—Å—Ç—å", "dialect1": "ghogh", "dialect2": "" },
    "seven": { "russian": "—Å–µ–º—å", "dialect1": "yvd", "dialect2": "" },
    "eight": { "russian": "–≤–æ—Å–µ–º—å", "dialect1": "vaght", "dialect2": "" },
    "nine": { "russian": "–¥–µ–≤—è—Ç—å", "dialect1": "now", "dialect2": "" },
    "ten": { "russian": "–¥–µ—Å—è—Ç—å", "dialect1": "this", "dialect2": "" },

    "still": { "russian": "–µ—â—ë", "dialect1": "dysga", "dialect2": "" },

    "month": { "russian": "–º–µ—Å—è—Ü", "dialect1": "mest", "dialect2": "" },
    "week": { "russian": "–Ω–µ–¥–µ–ª—è", "dialect1": "afta", "dialect2": "" },
    "hour": { "russian": "—á–∞—Å", "dialect1": "soat", "dialect2": "" },
    "minute": { "russian": "–º–∏–Ω—É—Ç–∞", "dialect1": "minyt", "dialect2": "" },
    "second": { "russian": "—Å–µ–∫—É–Ω–¥–∞", "dialect1": "secynd", "dialect2": "" },

    "person": { "russian": "—á–µ–ª–æ–≤–µ–∫", "dialect1": "odam", "dialect2": "" },
    "people": { "russian": "–ª—é–¥–∏", "dialect1": "odamen", "dialect2": "" },

    "man": { "russian": "–º—É–∂—á–∏–Ω–∞", "dialect1": "chorek", "dialect2": "" },
    "woman": { "russian": "–∂–µ–Ω—â–∏–Ω–∞", "dialect1": "ghenek", "dialect2": "" },
    "child": { "russian": "—Ä–µ–±—ë–Ω–æ–∫", "dialect1": "dzolekak", "dialect2": "" },

    "friend_male": { "russian": "–¥—Ä—É–≥", "dialect1": "oghno", "dialect2": "" },
    "friend_female": { "russian": "–ø–æ–¥—Ä—É–≥–∞", "dialect1": "oghno", "dialect2": "" },

    "family": { "russian": "—Å–µ–º—å—è", "dialect1": "semya", "dialect2": "" },
    "mother": { "russian": "–º–∞–º–∞", "dialect1": "nan", "dialect2": "" },
    "father": { "russian": "–ø–∞–ø–∞", "dialect1": "tat", "dialect2": "" },
    "brother": { "russian": "–±—Ä–∞—Ç", "dialect1": "verod", "dialect2": "" },
    "sister": { "russian": "—Å–µ—Å—Ç—Ä–∞", "dialect1": "–πax", "dialect2": "" },

    "son": { "russian": "—Å—ã–Ω", "dialect1": "po—Ü", "dialect2": "" },
    "daughter": { "russian": "–¥–æ—á—å", "dialect1": "rezin", "dialect2": "" },

    "life": { "russian": "–∂–∏–∑–Ω—å", "dialect1": "zindage", "dialect2": "" },

    "head": { "russian": "–≥–æ–ª–æ–≤–∞", "dialect1": "kil", "dialect2": "" },
    "hand": { "russian": "—Ä—É–∫–∞", "dialect1": "thost", "dialect2": "" },
    "leg": { "russian": "–Ω–æ–≥–∞", "dialect1": "poth", "dialect2": "" },
    "eye": { "russian": "–≥–ª–∞–∑", "dialect1": "—Üem", "dialect2": "" },
    "face": { "russian": "–ª–∏—Ü–æ", "dialect1": "pi—Ü", "dialect2": "" },
    "body": { "russian": "—Ç–µ–ª–æ", "dialect1": "telo", "dialect2": "" },

    "house": { "russian": "–¥–æ–º", "dialect1": "chid", "dialect2": "" },
    "apartment": { "russian": "–∫–≤–∞—Ä—Ç–∏—Ä–∞", "dialect1": "chid", "dialect2": "" },
    "room": { "russian": "–∫–æ–º–Ω–∞—Ç–∞", "dialect1": "mala", "dialect2": "" },

    "street": { "russian": "—É–ª–∏—Ü–∞", "dialect1": "dargo", "dialect2": "" },
    "city": { "russian": "–≥–æ—Ä–æ–¥", "dialect1": "shar", "dialect2": "" },
    "country": { "russian": "—Å—Ç—Ä–∞–Ω–∞", "dialect1": "shar", "dialect2": "" },

    "place": { "russian": "–º–µ—Å—Ç–æ", "dialect1": "jo–π", "dialect2": "" },
    "world": { "russian": "–º–∏—Ä", "dialect1": "zamin", "dialect2": "" },
    "earth": { "russian": "–∑–µ–º–ª—è", "dialect1": "zamin", "dialect2": "" },

    "school": { "russian": "—à–∫–æ–ª–∞", "dialect1": "maktab", "dialect2": "" },
    "university": { "russian": "—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "dialect1": "", "dialect2": "" },

    "work": { "russian": "—Ä–∞–±–æ—Ç–∞", "dialect1": "kor", "dialect2": "" },
    "task": { "russian": "–∑–∞–¥–∞—á–∞", "dialect1": "misol", "dialect2": "" },
    "question": { "russian": "–≤–æ–ø—Ä–æ—Å", "dialect1": "savol", "dialect2": "" },
    "answer": { "russian": "–æ—Ç–≤–µ—Ç", "dialect1": "otvet", "dialect2": "" },

    "thought": { "russian": "–º—ã—Å–ª—å", "dialect1": "fikr", "dialect2": "" },
    "idea": { "russian": "–∏–¥–µ—è", "dialect1": "ide–πa", "dialect2": "" },

    "word": { "russian": "—Å–ª–æ–≤–æ", "dialect1": "gap", "dialect2": "" },
    "language": { "russian": "—è–∑—ã–∫", "dialect1": "zev", "dialect2": "" },

    "book": { "russian": "–∫–Ω–∏–≥–∞", "dialect1": "kitob", "dialect2": "" },
    "notebook": { "russian": "—Ç–µ—Ç—Ä–∞–¥—å", "dialect1": "daftar", "dialect2": "" },
    "letter": { "russian": "–ø–∏—Å—å–º–æ", "dialect1": "pismo", "dialect2": "" },
    "newspaper": { "russian": "–≥–∞–∑–µ—Ç–∞", "dialect1": "gazet", "dialect2": "" },

    "internet": { "russian": "–∏–Ω—Ç–µ—Ä–Ω–µ—Ç", "dialect1": "internet", "dialect2": "" },
    "phone": { "russian": "—Ç–µ–ª–µ—Ñ–æ–Ω", "dialect1": "telefoy-n", "dialect2": "" },
    "computer": { "russian": "–∫–æ–º–ø—å—é—Ç–µ—Ä", "dialect1": "komp—éter", "dialect2": "" },

    "game": { "russian": "–∏–≥—Ä–∞", "dialect1": "boze", "dialect2": "" },
    "music": { "russian": "–º—É–∑—ã–∫–∞", "dialect1": "soz", "dialect2": "" },
    "movie": { "russian": "—Ñ–∏–ª—å–º", "dialect1": "kino", "dialect2": "" },

    "program": { "russian": "–ø—Ä–æ–≥—Ä–∞–º–º–∞", "dialect1": "pragrama", "dialect2": "" },
    "project": { "russian": "–ø—Ä–æ–µ–∫—Ç", "dialect1": "proect", "dialect2": "" },

    "water": { "russian": "–≤–æ–¥–∞", "dialect1": "gha—Ü", "dialect2": "" },
    "air": { "russian": "–≤–æ–∑–¥—É—Ö", "dialect1": "avo", "dialect2": "" },
    "fire": { "russian": "–æ–≥–æ–Ω—å", "dialect1": "–πo—Ü", "dialect2": "" },
    "soil": { "russian": "–∑–µ–º–ª—è", "dialect1": "zamin", "dialect2": "" },

    "tree": { "russian": "–¥–µ—Ä–µ–≤–æ", "dialect1": "daraxt", "dialect2": "" },
    "plant": { "russian": "—Ä–∞—Å—Ç–µ–Ω–∏–µ", "dialect1": "sabzavot", "dialect2": "" },
    "flower": { "russian": "—Ü–≤–µ—Ç–æ–∫", "dialect1": "gul", "dialect2": "" },
    "animal": { "russian": "–∂–∏–≤–æ—Ç–Ω–æ–µ", "dialect1": "a–πvy-n", "dialect2": "" }
};

// –í—Å–ø–æ–º–æ–≥: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É
function matchCapitalization(orig, translated) {
  if (!orig) return translated;
  // –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ ‚Äî —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫ –∂–µ
  const first = orig.codePointAt(0);
  const isUpper = orig[0] !== orig[0].toLowerCase();
  if (isUpper) {
    return translated[0].toUpperCase() + translated.slice(1);
  }
  return translated;
}

function translateWordToken(word, sourceLang, targetLang) {
  const lower = word.toLowerCase();

  // 1) —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∏–º–µ–Ω–Ω–æ –∫–∞–∫ entry[sourceLang]
  for (const key in dictionary) {
    const entry = dictionary[key];
    if (entry[sourceLang] && entry[sourceLang].toLowerCase() === lower) {
      // –Ω–∞—à–ª–∏ ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ target
      const res = entry[targetLang] || entry.russian || entry[sourceLang];
      return matchCapitalization(word, res);
    }
  }

  // 2) –µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ ‚Äî –ø–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –≤ –ª—é–±–æ–º —è–∑—ã–∫–µ (–∞–≤—Ç–æ-–¥–µ—Ç–µ–∫—Ç —Å–ª–æ–≤–∞)
  for (const key in dictionary) {
    const entry = dictionary[key];
    for (const lang in entry) {
      if (entry[lang] && entry[lang].toLowerCase() === lower) {
        const res = entry[targetLang] || entry.russian || entry[lang];
        return matchCapitalization(word, res);
      }
    }
  }

  // 3) –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Äî –≤–µ—Ä–Ω—É—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª
  return word;
}

function translateText() {
  const inputEl = document.getElementById('inputText');
  const outputEl = document.getElementById('outputText');

  let text = inputEl.value.trim(); // ‚ùó –ù–ï lowerCase
  const sourceLang = document.getElementById('sourceLang').value;
  const targetLang = document.getElementById('targetLang').value;

  if (!text) {
    outputEl.value = "";
    return;
  }

  // üîπ 1. –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∏–º –§–†–ê–ó–´
for (const key in dictionary) {
  const entry = dictionary[key];
  const src = entry[sourceLang];
  const trg = entry[targetLang];

  if (src && trg && src.includes(" ")) {
    const escaped = src.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    const regex = new RegExp(`(^|\\s)${escaped}(?=\\s|$|[.,!?])`, "giu");

    text = text.replace(regex, (match) => {
      const leadingSpace = match.startsWith(" ") ? " " : "";
      return leadingSpace + matchCapitalization(src, trg);
    });
  }
}

  outputEl.value = text;
}

</script>
</body>
</html>

