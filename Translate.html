<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Кастомный переводчик</title>
<style>

  /* === Общие стили страницы === */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-image: url('Traback.png'); /* твой фон */
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

/* === Контейнер === */
.container {
    width: 100%;
    max-width: 480px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background-color: rgba(255, 255, 255, 0.15); /* легкий прозрачный фон */
    border-radius: 12px;
    padding: 12px;
    box-sizing: border-box;
    backdrop-filter: blur(6px); /* мягкое размытие фона под контейнером */
}

/* === Блоки и селекторы === */
.language-selectors {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.language-selectors select {
    flex: 1;
    padding: 8px;
    font-size: 14px;
    border-radius: 100px;
    border: 1px solid #ccc;
    background-color: rgba(255, 255, 255, 0.9);
    cursor: pointer;
}

/* === Поля ввода и вывода === */
textarea {
    width: 95%;
    font-size: 14px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    resize: none;
    min-height: 120px;
    background-color: rgba(255, 255, 255, 0.9);
}

/* === Кнопка === */
button {
    width: 100%;
    padding: 12px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    background-color: #4285F4;
    color: #fff;
    cursor: pointer;
    margin-top: 5px;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #3367D6;
}

/* === Блоки для структурирования === */
.block {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

/* === Поле вывода перевода === */
.output {
    background-color: rgba(255, 255, 255, 0.95);
    overflow-y: auto;
    white-space: pre-wrap;
    border-radius: 8px;
    padding: 10px;
}

/* === Адаптив для маленьких экранов === */
@media (max-width: 360px) {
    textarea { font-size: 12px; padding: 8px; min-height: 100px; }
    select { font-size: 12px; padding: 6px; }
    button { font-size: 14px; padding: 10px; }
}


</style>
</head>
<body>

<div class="container">
  <div class="block">
    <div class="language-selectors">
      <select id="sourceLang">
        <option value="russian">Русский</option>
        <option value="dialect1">Шуганский диалект</option>
        <option value="dialect2">upcoming soon</option>
      </select>
      <select id="targetLang">
        <option value="russian">Русский</option>
        <option value="dialect1">Шуганский диалект</option>
        <option value="dialect2">upcoming soon</option>
      </select>
    </div>
    <textarea id="inputText" placeholder="Введите текст..."></textarea>
  </div>

  <button onclick="translateText()">Перевести</button>

  <div class="block">
    <textarea id="outputText" readonly class="output" placeholder="Перевод будет здесь..."></textarea>
  </div>
</div>

<script>
// ====== Словарь ======
const dictionary = {
    "hello" : { "russian": "привет", "dialect1": "Salum", "dialect2": ""},
    "How_are_you" : { "russian": "как дела", "dialect1": "Carang", "dialect2": ""},
    "What_are_you_doing" : { "russian": "что делаешь", "dialect1": "chireta", "dialect2": ""},
    
    "i": { "russian": "я", "dialect1": "oz", "dialect2": "" },
    "you_sg": { "russian": "ты", "dialect1": "to", "dialect2": "" },
    "he": { "russian": "он", "dialect1": "йo", "dialect2": "" },
    "she": { "russian": "она", "dialect1": "ya", "dialect2": "" },
    "we": { "russian": "мы", "dialect1": "mash", "dialect2": "" },
    "you_pl": { "russian": "вы", "dialect1": "tama", "dialect2": "" },
    "they": { "russian": "они", "dialect1": "wath", "dialect2": "" },

    "this_is": { "russian": "это", "dialect1": "эd", "dialect2": "" },
    "that": { "russian": "тот", "dialect1": "yo", "dialect2": "" },
    "this": { "russian": "этот", "dialect1": "ed", "dialect2": "" },

    "such": { "russian": "такой", "dialect1": "desga", "dialect2": "" },
    "which": { "russian": "какой", "dialect1": "цarangen", "dialect2": "" },
    "who": { "russian": "кто", "dialect1": "chaй", "dialect2": "" },
    "what": { "russian": "что", "dialect1": "chiz", "dialect2": "" },
    "where": { "russian": "где", "dialect1": "kaй", "dialect2": "" },
    "when": { "russian": "когда", "dialect1": "цawaxt", "dialect2": "" },
    "why": { "russian": "почему", "dialect1": "chizҷat", "dialect2": "" },
    "why_for": { "russian": "зачем", "dialect1": "chizҷat", "dialect2": "" },
    "how": { "russian": "как", "dialect1": "цarang", "dialect2": "" },

    "all": { "russian": "весь", "dialect1": "fok", "dialect2": "" },
    "each": { "russian": "каждый", "dialect1": "archaйath", "dialect2": "" },
    "other": { "russian": "другой", "dialect1": "ega", "dialect2": "" },
    "same_other": { "russian": "иной", "dialect1": "ega", "dialect2": "" },

    "most": { "russian": "самый", "dialect1": "sar", "dialect2": "" },
    "new": { "russian": "новый", "dialect1": "naw", "dialect2": "" },
    "old": { "russian": "старый", "dialect1": "kina", "dialect2": "" },
    "big": { "russian": "большой", "dialect1": "г-ola", "dialect2": "" },
    "small": { "russian": "маленький", "dialect1": "dzolek", "dialect2": "" },
    "good": { "russian": "хороший", "dialect1": "zyr", "dialect2": "" },
    "bad": { "russian": "плохой", "dialect1": "bedarak", "dialect2": "" },

    "first": { "russian": "первый", "dialect1": "yakom", "dialect2": "" },
    "last": { "russian": "последний", "dialect1": "oxiry-nom", "dialect2": "" },
    "early": { "russian": "ранний", "dialect1": "peroke", "dialect2": "" },
    "late": { "russian": "поздний", "dialect1": "der", "dialect2": "" },

    "many": { "russian": "много", "dialect1": "lap", "dialect2": "" },
    "few": { "russian": "мало", "dialect1": "dys", "dialect2": "" },
    "several": { "russian": "несколько", "dialect1": "dysath", "dialect2": "" },

    "one": { "russian": "один", "dialect1": "iw", "dialect2": "" },
    "two": { "russian": "два", "dialect1": "thoйy-n", "dialect2": "" },
    "three": { "russian": "три", "dialect1": "araй", "dialect2": "" },
    "four": { "russian": "четыре", "dialect1": "цavor", "dialect2": "" },
    "five": { "russian": "пять", "dialect1": "pinz", "dialect2": "" },
    "six": { "russian": "шесть", "dialect1": "ghogh", "dialect2": "" },
    "seven": { "russian": "семь", "dialect1": "yvd", "dialect2": "" },
    "eight": { "russian": "восемь", "dialect1": "vaght", "dialect2": "" },
    "nine": { "russian": "девять", "dialect1": "now", "dialect2": "" },
    "ten": { "russian": "десять", "dialect1": "this", "dialect2": "" },

    "still": { "russian": "ещё", "dialect1": "dysga", "dialect2": "" },

    "month": { "russian": "месяц", "dialect1": "mest", "dialect2": "" },
    "week": { "russian": "неделя", "dialect1": "afta", "dialect2": "" },
    "hour": { "russian": "час", "dialect1": "soat", "dialect2": "" },
    "minute": { "russian": "минута", "dialect1": "minyt", "dialect2": "" },
    "second": { "russian": "секунда", "dialect1": "secynd", "dialect2": "" },

    "person": { "russian": "человек", "dialect1": "odam", "dialect2": "" },
    "people": { "russian": "люди", "dialect1": "odamen", "dialect2": "" },

    "man": { "russian": "мужчина", "dialect1": "chorek", "dialect2": "" },
    "woman": { "russian": "женщина", "dialect1": "ghenek", "dialect2": "" },
    "child": { "russian": "ребёнок", "dialect1": "dzolekak", "dialect2": "" },

    "friend_male": { "russian": "друг", "dialect1": "oghno", "dialect2": "" },
    "friend_female": { "russian": "подруга", "dialect1": "oghno", "dialect2": "" },

    "family": { "russian": "семья", "dialect1": "semya", "dialect2": "" },
    "mother": { "russian": "мама", "dialect1": "nan", "dialect2": "" },
    "father": { "russian": "папа", "dialect1": "tat", "dialect2": "" },
    "brother": { "russian": "брат", "dialect1": "verod", "dialect2": "" },
    "sister": { "russian": "сестра", "dialect1": "йax", "dialect2": "" },

    "son": { "russian": "сын", "dialect1": "poц", "dialect2": "" },
    "daughter": { "russian": "дочь", "dialect1": "rezin", "dialect2": "" },

    "life": { "russian": "жизнь", "dialect1": "zindage", "dialect2": "" },

    "head": { "russian": "голова", "dialect1": "kil", "dialect2": "" },
    "hand": { "russian": "рука", "dialect1": "thost", "dialect2": "" },
    "leg": { "russian": "нога", "dialect1": "poth", "dialect2": "" },
    "eye": { "russian": "глаз", "dialect1": "цem", "dialect2": "" },
    "face": { "russian": "лицо", "dialect1": "piц", "dialect2": "" },
    "body": { "russian": "тело", "dialect1": "telo", "dialect2": "" },

    "house": { "russian": "дом", "dialect1": "chid", "dialect2": "" },
    "apartment": { "russian": "квартира", "dialect1": "chid", "dialect2": "" },
    "room": { "russian": "комната", "dialect1": "mala", "dialect2": "" },

    "street": { "russian": "улица", "dialect1": "dargo", "dialect2": "" },
    "city": { "russian": "город", "dialect1": "shar", "dialect2": "" },
    "country": { "russian": "страна", "dialect1": "shar", "dialect2": "" },

    "place": { "russian": "место", "dialect1": "joй", "dialect2": "" },
    "world": { "russian": "мир", "dialect1": "zamin", "dialect2": "" },
    "earth": { "russian": "земля", "dialect1": "zamin", "dialect2": "" },

    "school": { "russian": "школа", "dialect1": "maktab", "dialect2": "" },
    "university": { "russian": "университет", "dialect1": "", "dialect2": "" },

    "work": { "russian": "работа", "dialect1": "kor", "dialect2": "" },
    "task": { "russian": "задача", "dialect1": "misol", "dialect2": "" },
    "question": { "russian": "вопрос", "dialect1": "savol", "dialect2": "" },
    "answer": { "russian": "ответ", "dialect1": "otvet", "dialect2": "" },

    "thought": { "russian": "мысль", "dialect1": "fikr", "dialect2": "" },
    "idea": { "russian": "идея", "dialect1": "ideйa", "dialect2": "" },

    "word": { "russian": "слово", "dialect1": "gap", "dialect2": "" },
    "language": { "russian": "язык", "dialect1": "zev", "dialect2": "" },

    "book": { "russian": "книга", "dialect1": "kitob", "dialect2": "" },
    "notebook": { "russian": "тетрадь", "dialect1": "daftar", "dialect2": "" },
    "letter": { "russian": "письмо", "dialect1": "pismo", "dialect2": "" },
    "newspaper": { "russian": "газета", "dialect1": "gazet", "dialect2": "" },

    "internet": { "russian": "интернет", "dialect1": "internet", "dialect2": "" },
    "phone": { "russian": "телефон", "dialect1": "telefoy-n", "dialect2": "" },
    "computer": { "russian": "компьютер", "dialect1": "kompюter", "dialect2": "" },

    "game": { "russian": "игра", "dialect1": "boze", "dialect2": "" },
    "music": { "russian": "музыка", "dialect1": "soz", "dialect2": "" },
    "movie": { "russian": "фильм", "dialect1": "kino", "dialect2": "" },

    "program": { "russian": "программа", "dialect1": "pragrama", "dialect2": "" },
    "project": { "russian": "проект", "dialect1": "proect", "dialect2": "" },

    "water": { "russian": "вода", "dialect1": "ghaц", "dialect2": "" },
    "air": { "russian": "воздух", "dialect1": "avo", "dialect2": "" },
    "fire": { "russian": "огонь", "dialect1": "йoц", "dialect2": "" },
    "soil": { "russian": "земля", "dialect1": "zamin", "dialect2": "" },

    "tree": { "russian": "дерево", "dialect1": "daraxt", "dialect2": "" },
    "plant": { "russian": "растение", "dialect1": "sabzavot", "dialect2": "" },
    "flower": { "russian": "цветок", "dialect1": "gul", "dialect2": "" },
    "animal": { "russian": "животное", "dialect1": "aйvy-n", "dialect2": "" },
    "now": { "russian": "сейчас", "dialect1": "shech", "dialect2": "" },
    "here": { "russian": "здесь", "dialect1": "yy-dand", "dialect2": "" },
    "there": { "russian": "там", "dialect1": "yamand", "dialect2": "" },
    "up": { "russian": "вверх", "dialect1": "pe tip", "dialect2": "" },
    "down": { "russian": "вниз", "dialect1": "ar bir", "dialect2": "" },
    "fast": { "russian": "быстро", "dialect1": "tez", "dialect2": "" },
    "very": { "russian": "очень", "dialect1": "lap", "dialect2": "" },
    "a_little": { "russian": "немного", "dialect1": "dys", "dialect2": "" },
    "only": { "russian": "только", "dialect1": "dy-nd", "dialect2": "" },
    "more": { "russian": "ещё", "dialect1": "dysga", "dialect2": "" },
    "at": { "russian": "у", "dialect1": "vef", "dialect2": "" },
    "to": { "russian": "к", "dialect1": "vef", "dialect2": "" },
    "from": { "russian": "из", "dialect1": "az", "dialect2": "" },
    "on": { "russian": "на", "dialect1": "ve", "dialect2": "" },
    "with": { "russian": "с", "dialect1": "vef", "dialect2": "" },
    "under": { "russian": "под", "dialect1": "az bir", "dialect2": "" },
    "above": { "russian": "над", "dialect1": "az tin", "dialect2": "" },
    "between": { "russian": "между", "dialect1": "bayde", "dialect2": "" },
    
    "and": { "russian": "и", "dialect1": "yat", "dialect2": "" },
    "but": { "russian": "но", "dialect1": "bad", "dialect2": "" },
    "or": { "russian": "или", "dialect1": "yo", "dialect2": "" },
    "because": { "russian": "потому что", "dialect1": "dy-ndjat", "dialect2": "" },
    "since": { "russian": "так как", "dialect1": "dy-ndjat", "dialect2": "" },
    "then": { "russian": "тогда", "dialect1": "we waxt", "dialect2": "" },
    "if": { "russian": "если", "dialect1": "tsata", "dialect2": "" },
    "when": { "russian": "когда", "dialect1": "tsavaxt", "dialect2": "" },
    "while": { "russian": "пока", "dialect1": "mayle", "dialect2": "" },
    "although": { "russian": "хотя", "dialect1": "bad", "dialect2": "" },
    "so_that": { "russian": "чтобы", "dialect1": "dy-ndjat", "dialect2": "" },
    
    "happy": { "russian": "счастливый", "dialect1": "lap xosh", "dialect2": "" },
    "sad": { "russian": "грустный", "dialect1": "bechora", "dialect2": "" },
    "expensive": { "russian": "дорогой", "dialect1": "qimmat", "dialect2": "" },
    "cheap": { "russian": "дешевый", "dialect1": "arzy-n", "dialect2": "" },
    "hot": { "russian": "горячий", "dialect1": "kash", "dialect2": "" },
    "cold": { "russian": "холодный", "dialect1": "sheto", "dialect2": "" },
    "warm": { "russian": "тёплый", "dialect1": "garm", "dialect2": "" },
    "stupid": { "russian": "глупый", "dialect1": "thewen", "dialect2": "" },
    "beautiful": { "russian": "красивый", "dialect1": "xyshryy", "dialect2": "" },
    "ugly": { "russian": "уродливый", "dialect1": "bezeb", "dialect2": "" },
    "important": { "russian": "важный", "dialect1": "darkor", "dialect2": "" },
    "good": { "russian": "хороший", "dialect1": "zyr", "dialect2": "" },
    "bad_adj": { "russian": "плохой", "dialect1": "bedarak", "dialect2": "" },
    "new": { "russian": "новый", "dialect1": "naw", "dialect2": "" },
    "old": { "russian": "старый", "dialect1": "kina", "dialect2": "" },
    "small": { "russian": "маленький", "dialect1": "dzolek", "dialect2": "" },
    "big": { "russian": "большой", "dialect1": "g-ola", "dialect2": "" },
    "tall": { "russian": "высокий", "dialect1": "daroz", "dialect2": "" },
    "short": { "russian": "низкий", "dialect1": "dzolek", "dialect2": "" },
    "short_len": { "russian": "короткий", "dialect1": "dzolek", "dialect2": "" },
    "long": { "russian": "длинный", "dialect1": "daroz", "dialect2": "" },
    "light": { "russian": "легкий", "dialect1": "sabok", "dialect2": "" },
    "heavy": { "russian": "тяжелый", "dialect1": "qin", "dialect2": "" },
    "strong": { "russian": "сильный", "dialect1": "baqyvat", "dialect2": "" },
    "weak": { "russian": "слабый", "dialect1": "beqyvat", "dialect2": "" },
    
    "me": { "russian": "меня", "dialect1": "mund", "dialect2": "" },
    "you_sg": { "russian": "тебя", "dialect1": "tund", "dialect2": "" },
    "him": { "russian": "него", "dialect1": "yu", "dialect2": "" },
    "her": { "russian": "неё", "dialect1": "ya", "dialect2": "" },
    "us": { "russian": "нас", "dialect1": "mash", "dialect2": "" },
    "them": { "russian": "их", "dialect1": "vev", "dialect2": "" },
    "my": { "russian": "мой", "dialect1": "mund", "dialect2": "" },
    "your": { "russian": "твой", "dialect1": "tund", "dialect2": "" },
    "our": { "russian": "наш", "dialect1": "mashand", "dialect2": "" },
    "your_pl": { "russian": "ваш", "dialect1": "tamand", "dialect2": "" },
    
    "be": { "russian": "быть", "dialect1": "vedo", "dialect2": "" },
    "have": { "russian": "иметь", "dialect1": "yast", "dialect2": "" },
    "do": { "russian": "делать", "dialect1": "chido", "dialect2": "" },
    "say": { "russian": "сказать", "dialect1": "luvdo", "dialect2": "" },
    "go": { "russian": "идти", "dialect1": "tido", "dialect2": "" },
    "come": { "russian": "приходить", "dialect1": "yato", "dialect2": "" },
    "see": { "russian": "видеть", "dialect1": "vinto", "dialect2": "" },
    "think": { "russian": "думать", "dialect1": "fekrechid", "dialect2": "" },
    "want": { "russian": "хотеть", "dialect1": "forto", "dialect2": "" },
    "give": { "russian": "давать", "dialect1": "dakto", "dialect2": "" },
    "take": { "russian": "брать", "dialect1": "zehto", "dialect2": "" },
    "use": { "russian": "использовать", "dialect1": "istifoda yedo", "dialect2": "" },
    "search": { "russian": "искать", "dialect1": "khikido", "dialect2": "" },
    "ask": { "russian": "спрашивать", "dialect1": "pekhcto", "dialect2": "" },
    "answer": { "russian": "отвечать", "dialect1": "javob thedo", "dialect2": "" },
    "play": { "russian": "играть", "dialect1": "bozechid", "dialect2": "" },
    "work": { "russian": "работать", "dialect1": "korchid", "dialect2": "" },
    "study": { "russian": "учиться", "dialect1": "dars kheydo", "dialect2": "" },
    "teach": { "russian": "учить", "dialect1": "dars kheydo", "dialect2": "" },
    "read": { "russian": "читать", "dialect1": "kheydo", "dialect2": "" },
    "write": { "russian": "писать", "dialect1": "nivishto", "dialect2": "" },
    "buy": { "russian": "покупать", "dialect1": "zekhto", "dialect2": "" },
    "sell": { "russian": "продавать", "dialect1": "parthedo", "dialect2": "" },
    "open": { "russian": "открывать", "dialect1": "yetchid", "dialect2": "" },
    "close": { "russian": "закрывать", "dialect1": "chustchid", "dialect2": "" },
    "start": { "russian": "начинать", "dialect1": "sar chido", "dialect2": "" },
    "finish": { "russian": "заканчивать", "dialect1": "tayor chido", "dialect2": "" },
    "love": { "russian": "любить", "dialect1": "jivch chido", "dialect2": "" },
    "like": { "russian": "нравиться", "dialect1": "khush", "dialect2": "" },
    "hate": { "russian": "ненавидеть", "dialect1": "bad", "dialect2": "" },
    "know": { "russian": "знать", "dialect1": "famto", "dialect2": "" },
    "understand": { "russian": "понимать", "dialect1": "famto", "dialect2": "" },
    "forget": { "russian": "забывать", "dialect1": "renesto", "dialect2": "" },
    "remember": { "russian": "помнить", "dialect1": "bayoth vevdo", "dialect2": "" },
    "call": { "russian": "звонить", "dialect1": "qivdo", "dialect2": "" },
    "send": { "russian": "отправлять", "dialect1": "bokhto", "dialect2": "" },
    "receive": { "russian": "получать", "dialect1": "zekhto", "dialect2": "" },
    "help": { "russian": "помогать", "dialect1": "yordam chido", "dialect2": "" },
    "create": { "russian": "создавать", "dialect1": "sokhtan", "dialect2": "" },
    "build": { "russian": "строить", "dialect1": "mizdo", "dialect2": "" },
    "destroy": { "russian": "разрушать", "dialect1": "verekhto", "dialect2": "" },
    "change": { "russian": "менять", "dialect1": "bedal chido", "dialect2": "" },
    "sit": { "russian": "сидеть", "dialect1": "nithto", "dialect2": "" },
    "stand": { "russian": "стоять", "dialect1": "virivcto", "dialect2": "" },
    "run": { "russian": "бежать", "dialect1": "jekhto", "dialect2": "" },
    "walk": { "russian": "ходить", "dialect1": "tido", "dialect2": "" },
    "watch": { "russian": "смотреть", "dialect1": "chikhto", "dialect2": "" },
    "hear": { "russian": "слышать", "dialect1": "khinto", "dialect2": "" },
    "speak": { "russian": "говорить", "dialect1": "luvdo", "dialect2": "" },
    
    "time": { "russian": "время", "dialect1": "vakht", "dialect2": "" },
    "person": { "russian": "человек", "dialect1": "odam", "dialect2": "" },
    "year": { "russian": "год", "dialect1": "sol", "dialect2": "" },
    "day": { "russian": "день", "dialect1": "ruz", "dialect2": "" },
    "thing": { "russian": "вещь", "dialect1": "kochor", "dialect2": "" },
    "man": { "russian": "мужчина", "dialect1": "mard", "dialect2": "" },
    "woman": { "russian": "женщина", "dialect1": "ghenek", "dialect2": "" },
    "child": { "russian": "ребёнок", "dialect1": "culik", "dialect2": "" },
    "eye": { "russian": "глаз", "dialect1": "cem", "dialect2": "" },
    "hand": { "russian": "рука", "dialect1": "thust", "dialect2": "" },
    "leg": { "russian": "нога", "dialect1": "poth", "dialect2": "" },
    "face": { "russian": "лицо", "dialect1": "pic", "dialect2": "" },
    "body": { "russian": "тело", "dialect1": "tana", "dialect2": "" },
    "house": { "russian": "дом", "dialect1": "chid", "dialect2": "" },
    "room": { "russian": "комната", "dialect1": "komnata", "dialect2": "" },
    "street": { "russian": "улица", "dialect1": "dargo", "dialect2": "" },
    "city": { "russian": "город", "dialect1": "khar", "dialect2": "" },
    "country": { "russian": "страна", "dialect1": "mamlakat", "dialect2": "" },
    "school": { "russian": "школа", "dialect1": "maktab", "dialect2": "" },
    "university": { "russian": "университет", "dialect1": "universitet", "dialect2": "" },
    "workplace": { "russian": "работа", "dialect1": "kor", "dialect2": "" },
    "task": { "russian": "задача", "dialect1": "masala", "dialect2": "" },
    "question": { "russian": "вопрос", "dialect1": "savol", "dialect2": "" },
    "answer_n": { "russian": "ответ", "dialect1": "javob", "dialect2": "" },
    "thought": { "russian": "мысль", "dialect1": "fekre", "dialect2": "" },
    "idea": { "russian": "идея", "dialect1": "ideya", "dialect2": "" },
    "word": { "russian": "слово", "dialect1": "", "dialect2": "" },
    "language": { "russian": "язык", "dialect1": "zev", "dialect2": "" },
    "book": { "russian": "книга", "dialect1": "kitob", "dialect2": "" },
    "notebook": { "russian": "тетрадь", "dialect1": "daftar", "dialect2": "" },
    "letter": { "russian": "письмо", "dialect1": "khat", "dialect2": "" },
    "newspaper": { "russian": "газета", "dialect1": "majala", "dialect2": "" },
    "internet": { "russian": "интернет", "dialect1": "internet", "dialect2": "" },
    "phone": { "russian": "телефон", "dialect1": "telefon", "dialect2": "" },
    "computer": { "russian": "компьютер", "dialect1": "komputer", "dialect2": "" },
    "slow": { "russian": "медленно", "dialect1": "osta", "dialect2": "" },
    "game": { "russian": "игра", "dialect1": "boze", "dialect2": "" }
    
    

};

// ====== Сохранение заглавной буквы ======
function matchCapitalization(orig, translated) {
    if (!orig || !translated) return translated;
    if (orig[0] !== orig[0].toLowerCase()) {
        return translated[0].toUpperCase() + translated.slice(1);
    }
    return translated;
}

// ====== Перевод слова ======
function translateWordToken(word, sourceLang, targetLang) {
    const lower = word.toLowerCase();
    for (const key in dictionary) {
        const entry = dictionary[key];
        if (entry[sourceLang] && entry[targetLang] &&
            entry[sourceLang].toLowerCase() === lower) {
            return matchCapitalization(word, entry[targetLang]);
        }
    }
    return word;
}

// ====== Основная функция перевода ======
function translateText() {
    const inputEl = document.getElementById("inputText");
    const outputEl = document.getElementById("outputText");
    let text = inputEl.value;
    const sourceLang = document.getElementById("sourceLang").value;
    const targetLang = document.getElementById("targetLang").value;

    if (!text.trim()) {
        outputEl.value = "";
        return;
    }

    // 1️⃣ Защита фраз
    const protectedPhrases = [];
    let index = 0;

    for (const key in dictionary) {
        const entry = dictionary[key];
        const src = entry[sourceLang];
        const trg = entry[targetLang];

        if (src && trg && src.includes(" ")) {
            const escaped = src.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
            const regex = new RegExp(`(^|\\s|[.,!?])${escaped}(?=\\s|$|[.,!?])`, "giu");

            text = text.replace(regex, (match, p1) => {
                const token = `@@@${index}@@@`;
                protectedPhrases.push(matchCapitalization(match.trim(), trg));
                index++;
                return (p1 || "") + token;
            });
        }
    }

    // 2️⃣ Перевод оставшихся слов
    text = text.replace(/\p{L}+/gu, (match) => {
        return translateWordToken(match, sourceLang, targetLang);
    });

    // 3️⃣ Вставка фраз обратно
    protectedPhrases.forEach((phrase, i) => {
        const token = `@@@${i}@@@`;
        text = text.replace(token, phrase);
    });

    outputEl.value = text;
}
</script>

</body>
</html>
